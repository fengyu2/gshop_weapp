"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_createClass=function(){function o(e,l){for(var t=0;t<l.length;t++){var o=l[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,l,t){return l&&o(e.prototype,l),t&&o(e,t),e}}(),_get=function e(l,t,o){null===l&&(l=Function.prototype);var n=Object.getOwnPropertyDescriptor(l,t);if(void 0===n){var r=Object.getPrototypeOf(l);return null===r?void 0:e(r,t,o)}if("value"in n)return n.value;var u=n.get;return void 0!==u?u.call(o):void 0},_index=require("../../../../../@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("../../../../../prop-types/index.js"),_index4=_interopRequireDefault(_index3),_index5=require("../../../../../classnames/index.js"),_index6=_interopRequireDefault(_index5),_isFunction2=require("../../../../../lodash/isFunction.js"),_isFunction3=_interopRequireDefault(_isFunction2),_component=require("../../common/component.js"),_component2=_interopRequireDefault(_component),_utils=require("../../common/utils.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,l){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?e:l}function _inherits(e,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);e.prototype=Object.create(l&&l.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(e,l):e.__proto__=l)}var AtFloatLayout=(_temp2=_class=function(e){function u(){var e,l,t;_classCallCheck(this,u);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return(l=t=_possibleConstructorReturn(this,(e=u.__proto__||Object.getPrototypeOf(u)).call.apply(e,[this].concat(n)))).$usedState=["rootClass","title","scrollY","scrollX","scrollTop","scrollLeft","upperThreshold","lowerThreshold","scrollWithAnimation","_isOpened","isOpened","className","children"],t.handleClose=function(){(0,_isFunction3.default)(t.props.onClose)&&t.__triggerPropsFn("onClose",[null].concat([]))},t.close=function(){t.setState({_isOpened:!1},t.handleClose)},t.handleTouchMove=function(e){e.stopPropagation()},t.$$refs=[],_possibleConstructorReturn(t,l)}return _inherits(u,_component2.default),_createClass(u,[{key:"_constructor",value:function(e){_get(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_constructor",this).apply(this,arguments);var l=e.isOpened;this.state={_isOpened:l}}},{key:"componentWillReceiveProps",value:function(e){var l=e.isOpened;this.props.isOpened!==l&&(0,_utils.handleTouchScroll)(l),l!==this.state._isOpened&&this.setState({_isOpened:l})}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.__state._isOpened,l=this.__props,t=l.title,o=l.scrollY,n=l.scrollX,r=l.scrollTop,u=l.scrollLeft,i=l.upperThreshold,s=l.lowerThreshold,a=l.scrollWithAnimation,c=(0,_index6.default)("at-float-layout",{"at-float-layout--active":e},this.__props.className);return Object.assign(this.__state,{rootClass:c,title:t,scrollY:o,scrollX:n,scrollTop:r,scrollLeft:u,upperThreshold:i,lowerThreshold:s,scrollWithAnimation:a}),this.__state}},{key:"funPrivateWqkYt",value:function(){this.__triggerPropsFn("onScroll",[].concat(Array.prototype.slice.call(arguments)))}},{key:"funPrivateckqFH",value:function(){this.__triggerPropsFn("onScrollToLower",[].concat(Array.prototype.slice.call(arguments)))}},{key:"funPrivateRLQTi",value:function(){this.__triggerPropsFn("onScrollToUpper",[].concat(Array.prototype.slice.call(arguments)))}}]),u}(),_class.properties={isOpened:{type:null,value:null},onClose:{type:null,value:null},__fn_onClose:{type:null,value:null},title:{type:null,value:null},scrollY:{type:null,value:null},scrollX:{type:null,value:null},scrollTop:{type:null,value:null},scrollLeft:{type:null,value:null},upperThreshold:{type:null,value:null},lowerThreshold:{type:null,value:null},scrollWithAnimation:{type:null,value:null},className:{type:null,value:null},onScroll:{type:null,value:null},__fn_onScroll:{type:null,value:null},onScrollToLower:{type:null,value:null},__fn_onScrollToLower:{type:null,value:null},onScrollToUpper:{type:null,value:null},__fn_onScrollToUpper:{type:null,value:null}},_class.$$events=["handleTouchMove","close","funPrivateWqkYt","funPrivateckqFH","funPrivateRLQTi"],_temp2);AtFloatLayout.defaultProps={title:"",isOpened:!1,scrollY:!0,scrollX:!1,scrollWithAnimation:!1,onClose:function(){},onScroll:function(){},onScrollToLower:function(){},onScrollToUpper:function(){}},AtFloatLayout.propType={title:_index4.default.string,isOpened:_index4.default.bool,scrollY:_index4.default.bool,scrollX:_index4.default.bool,scrollTop:_index4.default.number,scrollLeft:_index4.default.number,upperThreshold:_index4.default.number,lowerThreshold:_index4.default.number,scrollWithAnimation:_index4.default.bool,onClose:_index4.default.func,onScroll:_index4.default.func,onScrollToLower:_index4.default.func,onScrollToUpper:_index4.default.func},exports.default=AtFloatLayout,Component(require("../../../../../@tarojs/taro-weapp/index.js").default.createComponent(AtFloatLayout));