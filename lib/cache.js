"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cache=void 0;var _index=require("../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Cache={remember:function(t,r,a,e){var n=Cache.get(t,null);null===n?e(function(e){Cache.set(t,e,r),a(e)}):a(n)},set:function(e,t,r){var a=parseInt((new Date).getTime()/1e3),n="cache:"+e,i={};i.expire=a+r,i.data=t,_index2.default.setStorageSync(n,i)},get:function(e,t){t=t||null;var r="cache:"+e,a=_index2.default.getStorageSync(r),n=parseInt((new Date).getTime()/1e3);if("string"!=typeof a||""!==a)try{if(a.expire>n)return a.data}catch(e){}return t},clearAll:function(){for(var e=_index2.default.getStorageInfoSync().keys,t=0;t<e.length;t++)e[t].startsWith("cache:")&&_index2.default.removeStorage({key:e[t]})}};exports.Cache=Cache;